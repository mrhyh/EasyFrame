//
//  EFShopCartModel.h
//  EF_MallDemo
//
//  Created by ylgwhyh on 16/6/20.
//  Copyright © 2016年 MH. All rights reserved.
//

#import "EFBaseViewModel.h"
#import "EFCartModel.h"
#import "EFOrderListModel.h"


typedef NS_ENUM(EFViewControllerCallBackAction, EFMailShopCart) {
    /****************商城-购物车信息管理******************/
    EFMailShopCart_ClearItems         = 1<<0,//清空我的购物车
    EFMailShopCart_Items              = 1<<1,//返回购物车购物项
    EFMailShopCart_RemoveItems        = 1 << 2 ,//从我的购物车当中删除购物项
    EFMailShopCart_UpdateItemQuantity = 1 << 3,//修改购物项目数量

    EFMailShopCart_CreateOrder        = 1 <<11,//创建订单
    EFMailShopCart_MyOrderList        = 1 <<12,//返回我的订单列表
    EFMailShopCart_CancelOrder        = 1 <<13,//取消订单
    EFMailShopCart_ConfirmOrder       = 1 <<14,// 确认订单
    EFMailShopCart_DeleteOrder        = 1 <<15,//刪除订单
    EFMailShopCart_FinishOrder        = 1 <<16,//完成订单
    EFMailShopCart_PayOrder           = 1 <<17,// 支付订单

};

#if NS_BLOCKS_AVAILABLE
typedef void (^RequestCallBackBlock)(CallBackStatus callBackStatus,NetworkModel * result);
#endif

@interface EFShopCartViewModel : EFBaseViewModel

/*购物车模型*/
@property (nonatomic, strong) EFCartModel *cartModel;
/*购物车数组模型*/
@property (nonatomic, strong) NSMutableArray *cartModelContentArray;

/*增减商品数量回调*/
@property (nonatomic, weak) RequestCallBackBlock requestCallBackBlock;

/*订单列表模型*/
@property (nonatomic, strong) EFOrderListModel *orderListModel;
@property (nonatomic, strong) NSMutableArray<OrderModel *> *orderModelArray;

/****************商城-购物车信息管理******************/

/*清空我的购物车*/
- (void)EFClearItems;

/*返回购物车购物项*/
- (void)EFGetShopCartItems:(int)_page Size:(int) _size;

/*从我的购物车当中删除购物项*/
- (void)EFRemoveItemsWithProductIds:(NSInteger)_productIds callBackBlock:(RequestCallBackBlock )callBackBlock;
/* 修改购物项目数量*/
- (void)UpdateItemQuantityWithProductId:(NSInteger)_productIds Quantity:(NSInteger)_quantity callBackBlock:(RequestCallBackBlock )callBackBlock;


/****************商城-订单管理服务rest接口**************/
/***  创建订单*/
- (void)createOrder:(NSString *)_consigneeRegionId ConsigneeName:(NSString *)_consigneeName ConsigneeMobile:(NSString *)_consigneeMobile ConsigneeAddress:(NSString *)_consigneeAddress ConsigneeZipCode:(NSString *)_consigneeZipCode isInvoice:(NSUInteger)_isInvoice invoiceTitle:(NSString *)_invoiceTitle orderProductId:( NSInteger)_orderProductId orderProductCount:(NSInteger)_orderProductCount shippingMethodId:(NSInteger)_shippingMethodId  notes:(NSString *)_notes;
/***  返回我的订单列表*/
- (void)getMyOrderList:(NSInteger)_page Size: (NSInteger)_size Status:(NSString *)_statusString;
/***  取消订单*/
- (void)cancelOrder:(NSInteger)_orderId Caulse:(NSString *)_caulse callBackBlock:(RequestCallBackBlock )callBackBlock;
/***  确认订单*/
- (void)confirmOrder:(NSInteger )_orderId;
/***  刪除订单*/
- (void)DeleteOrder:(NSInteger)_orderId;
/***  完成订单*/
- (void)FinishOrder:(NSInteger)_orderId callBackBlock:(RequestCallBackBlock )callBackBlock;
/***  支付订单*/
- (void)PayOrder:(NSInteger)_orderId callBackBlock:(RequestCallBackBlock )callBackBlock;


@end
